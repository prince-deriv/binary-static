{"version":3,"sources":["webpack://deriv-com/./src/templates/article.js"],"names":["WithIntl","props","useState","isMounted","setMounted","useEffect","window","scrollTo","post_data","data","directus","blog","footer_banner_data","footer_banners","side_banner_data","side_banners","article_title","blog_title","meta_title","meta_description","og_image","imageFile","childImageSharp","fixed","src","og_title","og_description","side_banner_data_details","max_w_value","max_w_tablet","isExternal","cta_url","search","redirectLink","imgSrcDesktop","banner_image","imgAltDesktop","description","footer_banner_details","desktop_banner_image","imgSrcMobile","mobile_banner_image","imgAltMobile","meta_attributes","og_type","og_img_width","og_img_height","og_img","type","title","padding","position","jc","ai","to","color","RightArrow","height","width","mt","lh","mb","size","published_date","convertDate","as","read_time_in_minutes","localize","min_width","fd","mr","fw","max-width","tags","map","tag","key","tags_id","id","tag_name","max_width","author","image","alt","name","tabletL","main_image","className","detailsObj","margin","dangerouslySetInnerHTML","__html","blog_post","replace"],"mappings":"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","file":"component---src-templates-article-js-851b4d3c4b5ddcfc9773.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql } from 'gatsby'\nimport {\n    ArticleTitle,\n    Background,\n    HeroContainer,\n    BreadcrumbsWrapper,\n    HeroLeftWrapper,\n    HeroRightWrapper,\n    HeroImageContainer,\n    InfoText,\n    WriterImage,\n    WrittenbyText,\n    BodyContainer,\n    LeftBodyContainerWrapper,\n    RightBodyContainerWrapper,\n    SideBarContainer,\n    Tag,\n    PreviewContainer,\n    SocialComponentsWrapper,\n    LeftSocialComponents,\n    RightSocialComponents,\n    DesktopWrapper,\n    MobileWrapper,\n    DesktopBreadcrumbsWrapper,\n    MobileBreadcrumbsWrapper,\n    StyledImg,\n    StyledBreadcrumbsLink,\n    StyledBreadcrumbsTitle,\n} from '../pages/academy/blog/posts/_style'\nimport Banner from '../pages/academy/components/_banner'\nimport ArticleEmailBanner from '../pages/academy/components/_side-subscription-banner.js'\nimport SocialSharing from '../pages/academy/components/_social-sharing'\nimport { localize, WithIntl } from 'components/localization'\nimport Layout from 'components/layout/layout'\nimport { SEO, Show, Box, Flex, SectionContainer } from 'components/containers'\nimport { QueryImage } from 'components/elements'\nimport { convertDate } from 'common/utility'\nimport RightArrow from 'images/svg/tools/black-right-arrow.svg'\n\nconst ArticlesTemplate = (props) => {\n    const [isMounted, setMounted] = useState(false)\n    useEffect(() => {\n        setMounted(true)\n        isMounted && window.scrollTo(0, 0)\n    }, [isMounted])\n\n    const post_data = props.data.directus.blog[0]\n    const footer_banner_data = post_data?.footer_banners\n    const side_banner_data = post_data?.side_banners\n    const article_title = post_data?.blog_title\n    const meta_title = post_data?.meta_title\n    const meta_description = post_data?.meta_description\n    const og_image = post_data?.og_image?.imageFile.childImageSharp.fixed.src\n    const og_title = post_data?.og_title\n    const og_description = post_data?.og_description\n\n    const side_banner_data_details = {\n        max_w_value: '328px',\n        max_w_tablet: '320px',\n        isExternal: footer_banner_data?.cta_url.search(/deriv\\.(com|me)/g) === -1 ? true : false,\n        redirectLink: side_banner_data?.cta_url,\n        imgSrcDesktop: side_banner_data?.banner_image?.imageFile,\n        imgAltDesktop: side_banner_data?.banner_image?.description,\n    }\n\n    const footer_banner_details = {\n        max_w_value: '792px',\n        max_w_tablet: '580px',\n        isExternal: footer_banner_data?.cta_url.search(/deriv\\.(com|me)/g) === -1 ? true : false,\n        redirectLink: footer_banner_data?.cta_url,\n        imgSrcDesktop: footer_banner_data?.desktop_banner_image?.imageFile,\n        imgAltDesktop: footer_banner_data?.desktop_banner_image?.description,\n        imgSrcMobile: footer_banner_data?.mobile_banner_image?.imageFile,\n        imgAltMobile: footer_banner_data?.mobile_banner_image?.description,\n    }\n\n    const meta_attributes = {\n        og_type: 'website',\n        og_img_width: '600',\n        og_img_height: '315',\n        og_img: og_image,\n        og_title: og_title ? og_title : meta_title,\n        og_description: og_description ? og_description : meta_description,\n    }\n\n    return (\n        <Layout type=\"academy\">\n            <SEO\n                description={meta_description}\n                title={meta_title}\n                meta_attributes={meta_attributes}\n            />\n            <>\n                {isMounted && (\n                    <SectionContainer padding=\"0\" position=\"relative\">\n                        <Background>\n                            <BreadcrumbsWrapper>\n                                <Flex jc=\"flex-start\" ai=\"center\">\n                                    <StyledBreadcrumbsLink to=\"/academy/\" color=\"grey-5\">\n                                        Home\n                                    </StyledBreadcrumbsLink>\n                                    <StyledImg src={RightArrow} height=\"16\" width=\"16\" />\n                                    <StyledBreadcrumbsLink to=\"/academy/blog/\" color=\"grey-5\">\n                                        All articles\n                                    </StyledBreadcrumbsLink>\n                                    <StyledImg src={RightArrow} height=\"16\" width=\"16\" />\n                                    <DesktopBreadcrumbsWrapper>\n                                        <StyledBreadcrumbsTitle>\n                                            {article_title}\n                                        </StyledBreadcrumbsTitle>\n                                    </DesktopBreadcrumbsWrapper>\n                                </Flex>\n                                <MobileBreadcrumbsWrapper>\n                                    <Flex width=\"auto\" jc=\"flex-start\" mt=\"10px\">\n                                        <StyledBreadcrumbsTitle lh=\"20px\">\n                                            {article_title}\n                                        </StyledBreadcrumbsTitle>\n                                    </Flex>\n                                </MobileBreadcrumbsWrapper>\n                            </BreadcrumbsWrapper>\n                            <HeroContainer>\n                                <HeroLeftWrapper width=\"100%\">\n                                    <InfoText mb=\"16px\" size=\"14px\">\n                                        {post_data?.published_date &&\n                                            convertDate(post_data?.published_date)}\n                                    </InfoText>\n                                    <ArticleTitle as=\"h1\" type=\"page-title\">\n                                        {post_data?.blog_title}\n                                    </ArticleTitle>\n                                    <InfoText size=\"14px\" mt=\"16px\">\n                                        {post_data?.read_time_in_minutes &&\n                                            localize(post_data?.read_time_in_minutes + ' min read')}\n                                    </InfoText>\n                                    <Show.Mobile min_width=\"laptop\">\n                                        <SideBarContainer fd=\"column\" mr=\"126px\" height=\"auto\">\n                                            <Flex\n                                                fw=\"wrap\"\n                                                jc=\"flex-start\"\n                                                max-width=\"100%\"\n                                                width=\" 100%\"\n                                            >\n                                                {post_data?.tags.map((tag) => {\n                                                    return (\n                                                        <Tag key={tag?.tags_id?.id}>\n                                                            {tag?.tags_id?.tag_name}\n                                                        </Tag>\n                                                    )\n                                                })}\n                                            </Flex>\n                                        </SideBarContainer>\n                                    </Show.Mobile>\n\n                                    <Show.Desktop max_width=\"laptop\">\n                                        {post_data?.author && (\n                                            <Flex ai=\"center\" mt=\"40px\" jc=\"flex-start\">\n                                                <>\n                                                    {post_data?.author?.image && (\n                                                        <WriterImage>\n                                                            <QueryImage\n                                                                data={\n                                                                    post_data?.author?.image\n                                                                        ?.imageFile\n                                                                }\n                                                                alt={\n                                                                    post_data?.author?.image\n                                                                        ?.description\n                                                                }\n                                                            />\n                                                        </WriterImage>\n                                                    )}\n                                                </>\n\n                                                <Box>\n                                                    <WrittenbyText color=\"grey-5\" size=\"12px\">\n                                                        {localize('Written by')}\n                                                    </WrittenbyText>\n                                                    <InfoText>\n                                                        {localize(post_data?.author?.name)}\n                                                    </InfoText>\n                                                </Box>\n                                            </Flex>\n                                        )}\n                                    </Show.Desktop>\n                                </HeroLeftWrapper>\n                                <HeroRightWrapper>\n                                    <HeroImageContainer tabletL={{ mt: '24px' }}>\n                                        <QueryImage\n                                            data={post_data?.main_image?.imageFile}\n                                            alt={post_data?.main_image?.description}\n                                            className=\"standard-query-img\"\n                                        />\n                                    </HeroImageContainer>\n                                </HeroRightWrapper>\n                            </HeroContainer>\n                        </Background>\n\n                        <BodyContainer>\n                            <LeftBodyContainerWrapper>\n                                <Show.Mobile min_width=\"laptop\">\n                                    {post_data?.author && (\n                                        <Flex ai=\"center\" jc=\"flex-start\">\n                                            <>\n                                                {post_data?.author?.image && (\n                                                    <WriterImage>\n                                                        <QueryImage\n                                                            data={\n                                                                post_data?.author?.image?.imageFile\n                                                            }\n                                                            alt={\n                                                                post_data?.author?.image\n                                                                    ?.description\n                                                            }\n                                                        />\n                                                    </WriterImage>\n                                                )}\n                                            </>\n\n                                            <Box>\n                                                <WrittenbyText color=\"grey-5\" size=\"12px\">\n                                                    {localize('Written by')}\n                                                </WrittenbyText>\n                                                <InfoText>\n                                                    {localize(post_data?.author?.name)}\n                                                </InfoText>\n                                            </Box>\n                                        </Flex>\n                                    )}\n                                </Show.Mobile>\n                                <Show.Desktop max_width=\"laptop\">\n                                    <SideBarContainer fd=\"column\" height=\"auto\">\n                                        <Flex\n                                            jc=\"flex-start\"\n                                            mb=\"40px\"\n                                            fw=\"wrap\"\n                                            max-width=\"255px\"\n                                            width=\" 100%\"\n                                        >\n                                            {post_data?.tags.map((tag) => {\n                                                return (\n                                                    <Tag key={tag?.tags_id?.id}>\n                                                        {tag?.tags_id?.tag_name}\n                                                    </Tag>\n                                                )\n                                            })}\n                                        </Flex>\n                                        {side_banner_data_details && (\n                                            <Banner detailsObj={side_banner_data_details} />\n                                        )}\n                                        <DesktopWrapper>\n                                            <ArticleEmailBanner />\n                                        </DesktopWrapper>\n                                    </SideBarContainer>\n                                </Show.Desktop>\n                            </LeftBodyContainerWrapper>\n                            <RightBodyContainerWrapper>\n                                <Flex fd=\"column\" margin=\"0 auto\" ai=\"center\">\n                                    <PreviewContainer\n                                        dangerouslySetInnerHTML={{\n                                            __html: post_data?.blog_post\n                                                .replace(/<p><img /g, '<img ')\n                                                .replace(/\\/><\\/p>/g, '/>'),\n                                        }}\n                                    />\n\n                                    {footer_banner_details && (\n                                        <Banner detailsObj={footer_banner_details} />\n                                    )}\n                                    <SocialComponentsWrapper>\n                                        <LeftSocialComponents />\n                                        <RightSocialComponents>\n                                            <SocialSharing />\n                                        </RightSocialComponents>\n                                    </SocialComponentsWrapper>\n\n                                    {side_banner_data_details && (\n                                        <MobileWrapper>\n                                            <Flex mt=\"24px\">\n                                                <Banner detailsObj={side_banner_data_details} />\n                                            </Flex>\n                                        </MobileWrapper>\n                                    )}\n                                    <MobileWrapper>\n                                        <ArticleEmailBanner />\n                                    </MobileWrapper>\n                                </Flex>\n                            </RightBodyContainerWrapper>\n                        </BodyContainer>\n                    </SectionContainer>\n                )}\n            </>\n        </Layout>\n    )\n}\n\nArticlesTemplate.propTypes = {\n    data: PropTypes.object,\n    pageContext: PropTypes.object,\n}\n\nexport default WithIntl()(ArticlesTemplate)\n\n// Query our published articles by slug\nexport const query = graphql`\n    query Article($slug: String) {\n        directus {\n            blog(filter: { slug: { _eq: $slug } }) {\n                id\n                blog_title\n                meta_title\n                meta_description\n                og_title\n                og_description\n                published_date\n                read_time_in_minutes\n                blog_post\n                author {\n                    id\n                    name\n                    image {\n                        id\n                        description\n                        imageFile {\n                            childImageSharp {\n                                gatsbyImageData\n                            }\n                        }\n                    }\n                }\n                main_image {\n                    id\n                    description\n                    imageFile {\n                        childImageSharp {\n                            gatsbyImageData(\n                                quality: 100\n                                webpOptions: { quality: 100 }\n                                avifOptions: { quality: 100, lossless: true }\n                                placeholder: BLURRED\n                            )\n                        }\n                    }\n                }\n                og_image: main_image {\n                    id\n                    imageFile {\n                        childImageSharp {\n                            gatsbyImageData\n                            fixed(width: 600) {\n                                src\n                            }\n                        }\n                    }\n                }\n                tags {\n                    id\n                    tags_id {\n                        id\n                        tag_name\n                    }\n                }\n                footer_banners {\n                    id\n                    cta_url\n                    name\n                    desktop_banner_image {\n                        id\n                        description\n                        imageFile {\n                            childImageSharp {\n                                gatsbyImageData(\n                                    quality: 100\n                                    webpOptions: { quality: 100 }\n                                    avifOptions: { quality: 100, lossless: true }\n                                    placeholder: BLURRED\n                                )\n                            }\n                        }\n                    }\n                    mobile_banner_image {\n                        id\n                        description\n                        imageFile {\n                            childImageSharp {\n                                gatsbyImageData(\n                                    quality: 100\n                                    webpOptions: { quality: 100 }\n                                    avifOptions: { quality: 100, lossless: true }\n                                    placeholder: BLURRED\n                                )\n                            }\n                        }\n                    }\n                }\n                side_banners {\n                    id\n                    cta_url\n                    name\n                    banner_image {\n                        id\n                        description\n                        imageFile {\n                            childImageSharp {\n                                gatsbyImageData(\n                                    quality: 100\n                                    webpOptions: { quality: 100 }\n                                    avifOptions: { quality: 100, lossless: true }\n                                    placeholder: BLURRED\n                                )\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n`\n"],"sourceRoot":""}